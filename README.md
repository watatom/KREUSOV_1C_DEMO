da
ща
кароче
2 набора данных
и 2 варианта отчёта
Процедура ПриКомпоновкеРезультата(ДокументРезультат, ДанныеРасшифровки, СтандартнаяОбработка)
    temp= ПользователиИнформационнойБазы.ТекущийПользователь().Роли.Содержит(Метаданные.Роли.Абитуриент);
  Если temp=Истина тогда
    Вариант = СхемаКомпоновкиДанных.ВариантыНастроек[1].Настройки;
    КомпоновщикНастроек.ЗагрузитьНастройки(Вариант);
  ИначеЕсли ПользователиИнформационнойБазы.ТекущийПользователь().Роли.Содержит(Метаданные.Роли.Секретарь)=Истина тогда
    Вариант = СхемаКомпоновкиДанных.ВариантыНастроек[0].Настройки;
    КомпоновщикНастроек.ЗагрузитьНастройки(Вариант);
  КонецЕсли;
  КонецПроцедуры
модуль объекта
он тут
на роли
проверяет
и в зависимости от роли
вариант отчёта
ему
суёт
форма отчёта
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
  Если Не ПользователиИнформационнойБазы.ТекущийПользователь().Роли.Содержит(Метаданные.Роли.Админ)=Истина Тогда
    ЭтаФорма.КоманднаяПанель.Видимость=Ложь;
  Иначе 
    ЭтаФорма.Элементы.Сформировать.Видимость=Ложь;
  КонецЕсли
КонецПроцедуры
это чтобы
нельзя было напикать
варианты
типам кроме админа
